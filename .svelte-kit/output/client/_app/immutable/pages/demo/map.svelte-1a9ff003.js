import{S as G,i as J,s as W,t as A,k as D,e as M,aa as $,h as F,m as L,c as I,a as E,ab as ee,d as p,b as y,g as w,G as v,j as R,E as j,L as te,v as Z,Y as ne,w as x,x as H,y as V,q as O,o as Q,B as Y,am as oe,ag as se}from"../../chunks/index-f4dbb4b4.js";import{S as ae}from"../../chunks/csMaps.svelte_svelte_type_style_lang-a72545d9.js";import{a as N}from"../../chunks/mapbox-gl-bd635c75.js";/* empty css                             */import{a as le}from"../../chunks/algoliasearch.umd-a2db95c4.js";import{c as z}from"../../chunks/others-c2922311.js";import"../../chunks/_commonjsHelpers-461dc783.js";function q(d,o,a){const s=d.slice();return s[9]=o[a],s}function U(d){let o,a=d[9].objectID+"",s,u,t=z(d[9].Price)+"",f,e,l,r,h,c=d[9].Property_Title+" | "+d[9].Property_Name,b,i,g=d[9].Community+"",S,B,T,P,k,_;return{c(){o=A("ID: "),s=A(a),u=A(" / Price: "),f=A(t),e=D(),l=M("section"),r=M("h5"),h=new $(!1),b=D(),i=M("span"),S=D(),B=M("p"),T=A(`November 1895. London is shrouded in fog and Sherlock Holmes and Watson pass time restlessly awaiting a new case. "The London criminal is certainly a dull fellow," Sherlock bemoans. "There have been numerous petty thefts," Watson offers in response. Just then a telegram arrives from Sherlock's brother Mycroft with a mysterious case.`),P=D(),this.h()},l(n){o=F(n,"ID: "),s=F(n,a),u=F(n," / Price: "),f=F(n,t),e=L(n),l=I(n,"SECTION",{id:!0,class:!0});var m=E(l);r=I(m,"H5",{});var C=E(r);h=ee(C,!1),b=L(C),i=I(C,"SPAN",{});var K=E(i);K.forEach(p),C.forEach(p),S=L(m),B=I(m,"P",{});var X=E(B);T=F(X,`November 1895. London is shrouded in fog and Sherlock Holmes and Watson pass time restlessly awaiting a new case. "The London criminal is certainly a dull fellow," Sherlock bemoans. "There have been numerous petty thefts," Watson offers in response. Just then a telegram arrives from Sherlock's brother Mycroft with a mysterious case.`),X.forEach(p),P=L(m),m.forEach(p),this.h()},h(){h.a=b,y(l,"id",k=d[9].objectID),y(l,"class",_=" MyMpasContent MyID-"+d[9].objectID+" svelte-10uk9hs")},m(n,m){w(n,o,m),w(n,s,m),w(n,u,m),w(n,f,m),w(n,e,m),w(n,l,m),v(l,r),h.m(c,r),v(r,b),v(r,i),i.innerHTML=g,v(l,S),v(l,B),v(B,T),v(l,P),d[3](l)},p(n,m){m&1&&a!==(a=n[9].objectID+"")&&R(s,a),m&1&&t!==(t=z(n[9].Price)+"")&&R(f,t),m&1&&c!==(c=n[9].Property_Title+" | "+n[9].Property_Name)&&h.p(c),m&1&&g!==(g=n[9].Community+"")&&(i.innerHTML=g),m&1&&k!==(k=n[9].objectID)&&y(l,"id",k),m&1&&_!==(_=" MyMpasContent MyID-"+n[9].objectID+" svelte-10uk9hs")&&y(l,"class",_)},d(n){n&&p(o),n&&p(s),n&&p(u),n&&p(f),n&&p(e),n&&p(l),d[3](null)}}}function re(d){let o,a,s,u,t,f,e,l,r=d[0],h=[];for(let c=0;c<r.length;c+=1)h[c]=U(q(d,r,c));return{c(){o=M("div"),a=M("div"),s=M("div"),u=M("div"),t=M("div"),f=D(),e=M("div"),l=M("div");for(let c=0;c<h.length;c+=1)h[c].c();this.h()},l(c){o=I(c,"DIV",{class:!0});var b=E(o);a=I(b,"DIV",{class:!0});var i=E(a);s=I(i,"DIV",{class:!0});var g=E(s);u=I(g,"DIV",{class:!0});var S=E(u);t=I(S,"DIV",{id:!0,class:!0}),E(t).forEach(p),S.forEach(p),f=L(g),e=I(g,"DIV",{class:!0});var B=E(e);l=I(B,"DIV",{id:!0,class:!0});var T=E(l);for(let P=0;P<h.length;P+=1)h[P].l(T);T.forEach(p),B.forEach(p),g.forEach(p),i.forEach(p),b.forEach(p),this.h()},h(){y(t,"id","mapView"),y(t,"class","svelte-10uk9hs"),y(u,"class","col-sm"),y(l,"id","features"),y(l,"class","svelte-10uk9hs"),y(e,"class","col-sm"),y(s,"class","row"),y(a,"class","container"),y(o,"class","MyClas svelte-10uk9hs")},m(c,b){w(c,o,b),v(o,a),v(a,s),v(s,u),v(u,t),v(s,f),v(s,e),v(e,l);for(let i=0;i<h.length;i+=1)h[i].m(l,null)},p(c,[b]){if(b&3){r=c[0];let i;for(i=0;i<r.length;i+=1){const g=q(c,r,i);h[i]?h[i].p(g,b):(h[i]=U(g),h[i].c(),h[i].m(l,null))}for(;i<h.length;i+=1)h[i].d(1);h.length=r.length}},i:j,o:j,d(c){c&&p(o),te(h,c)}}}function ie(d,o,a){let{data:s=[]}=o,{boundingBox:u={_sw:{lng:55.064511502076556,lat:25.004448664717486},_ne:{lng:55.21608849792656,lat:25.15650411973199}}}=o,t={},f,e=[];Z(async()=>{const r=_=>{let n=Math.floor(Math.random()*_);return Number.parseInt(n)},h=(_,n,m)=>{let C=Math.random()*(n-_)+_;return Number.parseFloat(C).toFixed(m)};let c=s.sort(),b=25.163216852696415,i=55.25120403896978;N.accessToken="pk.eyJ1IjoiZHJpdmVubWFwYm94IiwiYSI6ImNsNjBpaDJoajE4bGgzZm9hYzh4amlhOTEifQ.2X7wHieXqxadrO16pnLl6g";const g=new N.Map({container:"mapView",style:"mapbox://styles/mapbox/streets-v11",center:[i,b],zoom:10});a(2,u=g.getBounds());const S=_=>{document.querySelector("div#features"),features.addEventListener("mouseenter",n=>{console.log(n)})},B=()=>{document.getElementById("mySearch").addEventListener("click",T)},T=async()=>{let _=document.getElementById("Community");e=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${_.value}.json?access_token=${N.accessToken}`)).json(),g.flyTo({center:e.features[0].geometry.coordinates,zoom:14,speed:h(.9,.3,1),duration:r(6e3),bearing:r(30),pitch:r(30)})},P=_=>{_.features.forEach(function(n){a(2,u=g.getBounds()),n.properties.active=="Yes"&&new N.Popup({className:"white-popup",closeButton:!1,closeOnClick:!0}).setLngLat(n.geometry.coordinates).setHTML(`${n.properties.description}`).addTo(g)})};let k=_=>{a(2,u=g.getBounds());let n=_.length;for(let m=0;m<n;m++)t={type:"FeatureCollection",features:[{type:"Feature",properties:{description:`<strong>AED ${z(_[m].Price).replaceAll(".00","")}</strong>`,active:`${_[m].Published}`,price:_[m].Price},geometry:{type:"Point",coordinates:[_[m].Longitude,_[m].Latitude]}}]},P(t)};g.on("load",()=>{B(),k(c),S(),g.on("movestart",_=>{}),g.zoomTo(11,{duration:700})})});function l(r){ne[r?"unshift":"push"](()=>{f=r,a(1,f)})}return d.$$set=r=>{"data"in r&&a(0,s=r.data),"boundingBox"in r&&a(2,u=r.boundingBox)},[s,f,u,l]}class ce extends G{constructor(o){super(),J(this,o,ie,re,W,{data:0,boundingBox:2})}}function ue(d){let o,a,s,u,t,f;return s=new ae({}),s.$on("MySerachingBtn{MySerachingBtn}",d[4]),t=new ce({props:{boundingBox:d[0],data:d[1],updateFunction:d[2]}}),{c(){o=M("section"),a=D(),x(s.$$.fragment),u=D(),x(t.$$.fragment)},l(e){o=I(e,"SECTION",{}),E(o).forEach(p),a=L(e),H(s.$$.fragment,e),u=L(e),H(t.$$.fragment,e)},m(e,l){w(e,o,l),w(e,a,l),V(s,e,l),w(e,u,l),V(t,e,l),f=!0},p(e,[l]){const r={};l&1&&(r.boundingBox=e[0]),l&2&&(r.data=e[1]),l&4&&(r.updateFunction=e[2]),t.$set(r)},i(e){f||(O(s.$$.fragment,e),O(t.$$.fragment,e),f=!0)},o(e){Q(s.$$.fragment,e),Q(t.$$.fragment,e),f=!1},d(e){e&&p(o),e&&p(a),Y(s,e),e&&p(u),Y(t,e)}}}const me="48O3SXQXMR",de="ec1af9fe04b917db992f934e4b96b695",fe="tbl_properties";function he(d,o,a){const u=le(me,de).initIndex(fe);let t,f,e,{boundingBox:l={_sw:{lng:55.098586285398085,lat:25.00444866471817},_ne:{lng:55.18201371459705,lat:25.15650411973273}}}=o,{boundingBoxForQuery:r=[25.004448664717486,55.064511502076556,25.15650411973199,55.21608849792656]}=o;Z(async()=>{(b=>{console.log(b),u.search(b||"",{insideBoundingBox:[r],page:0,hitsPerPage:10}).then(({hits:i})=>{a(1,t=i),console.log(t)}),a(2,f=i=>{a(3,r=[i._sw.lat,i._sw.lng,i._ne.lat,i._ne.lng]),u.search(b||"",{insideBoundingBox:[r],page:0,hitsPerPage:10}).then(({hits:g})=>{a(1,t=g),console.log(t)})})})(e)});function h(c){oe.call(this,d,c)}return d.$$set=c=>{"boundingBox"in c&&a(0,l=c.boundingBox),"boundingBoxForQuery"in c&&a(3,r=c.boundingBoxForQuery)},[l,t,f,r,h]}class pe extends G{constructor(o){super(),J(this,o,he,ue,W,{boundingBox:0,boundingBoxForQuery:3})}}function ge(d){let o,a,s,u;return s=new pe({}),{c(){o=M("meta"),a=D(),x(s.$$.fragment),this.h()},l(t){const f=se('[data-svelte="svelte-1p4q799"]',document.head);o=I(f,"META",{name:!0,content:!0}),f.forEach(p),a=L(t),H(s.$$.fragment,t),this.h()},h(){document.title="About Us",y(o,"name","description"),y(o,"content","About Us Page app")},m(t,f){v(document.head,o),w(t,a,f),V(s,t,f),u=!0},p:j,i(t){u||(O(s.$$.fragment,t),u=!0)},o(t){Q(s.$$.fragment,t),u=!1},d(t){p(o),t&&p(a),Y(s,t)}}}class we extends G{constructor(o){super(),J(this,o,null,ge,W,{})}}export{we as default};
